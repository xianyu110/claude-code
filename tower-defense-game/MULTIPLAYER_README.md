# 多人塔防游戏

🎮 一个支持最多4人同时游戏的在线塔防游戏！每个玩家都有自己的专属建造区域，需要协作防御敌人入侵。

## 🚀 快速开始

### 启动服务器
```bash
cd tower-defense-game
npm install
npm start
```

### 访问游戏
打开浏览器访问：`http://localhost:3000/multiplayer.html`

## 🎯 游戏特色

### 👥 多人协作
- **最多4人同时游戏**
- **专属建造区域**：每个玩家只能在自己的区域内建造炮塔
- **实时同步**：所有玩家的操作都会实时同步到其他玩家
- **聊天系统**：游戏内置聊天功能，方便团队协作

### 🏰 玩家区域分配
- **玩家1（蓝色）**：左上角区域 (0, 0, 200, 200)
- **玩家2（红色）**：右上角区域 (600, 0, 200, 200)
- **玩家3（绿色）**：左下角区域 (0, 400, 200, 200)
- **玩家4（橙色）**：右下角区域 (600, 400, 200, 200)

### 🎮 游戏机制
- **共享生命值**：所有玩家共享20点生命值
- **独立金币**：每个玩家有独立的金币系统
- **炮塔识别**：每个炮塔都有玩家标识，方便识别归属

## 🎨 界面功能

### 左侧面板
- **玩家列表**：显示所有在线玩家及其状态
- **炮塔选择**：选择要建造的炮塔类型
- **游戏控制**：开始波次、暂停、重启等操作
- **准备系统**：玩家可以标记自己的准备状态

### 右侧面板
- **聊天系统**：与其他玩家实时交流
- **连接状态**：显示网络连接状态
- **房间管理**：创建或加入指定房间

### 游戏画布
- **彩色区域**：每个玩家的建造区域用不同颜色标识
- **炮塔标识**：每个炮塔显示建造者的编号
- **实时更新**：所有玩家的操作实时显示

## 🛠️ 技术架构

### 服务器端
- **Node.js + Express**：Web服务器
- **Socket.IO**：实时通信
- **房间管理**：支持多房间游戏
- **游戏状态同步**：实时同步所有玩家状态

### 客户端
- **HTML5 Canvas**：游戏渲染
- **Socket.IO Client**：实时通信
- **响应式设计**：支持不同屏幕尺寸

## 🎲 游戏规则

### 基本规则
1. **区域限制**：每个玩家只能在自己的彩色区域内建造炮塔
2. **协作防御**：所有玩家共同防御敌人，保护共享的生命值
3. **独立经济**：每个玩家有独立的金币系统和得分

### 建造规则
- 炮塔不能建造在路径上
- 炮塔之间需要保持最小距离
- 建造需要消耗金币
- 只能在自己的区域内建造

### 胜负条件
- **失败**：生命值归零（20个敌人逃脱）
- **胜利**：完成当前关卡所有波次

## 🎯 策略建议

### 区域配置
- **左上角玩家**：负责早期防御，建议建造基础炮塔
- **右上角玩家**：负责中期防御，建议建造重炮塔
- **左下角玩家**：负责支援防御，建议建造速射炮塔
- **右下角玩家**：负责最后防线，建议建造高伤害炮塔

### 团队协作
- 使用聊天系统协调策略
- 合理分配炮塔类型
- 关注金币使用效率
- 及时支援薄弱环节

## 🔧 配置说明

### 服务器配置
```javascript
const MAX_PLAYERS = 4;          // 最大玩家数
const PORT = 3000;              // 服务器端口
const GAME_FPS = 60;            // 游戏帧率
```

### 游戏平衡
- 生命值：20（多人游戏增加）
- 初始金币：150（多人游戏增加）
- 炮塔成本：基础20，重炮50，速射35
- 敌人奖励：根据关卡难度调整

## 🐛 故障排除

### 常见问题
1. **连接失败**：检查服务器是否启动，端口是否被占用
2. **无法建造**：确认是否在自己的区域内，金币是否充足
3. **画面不同步**：刷新页面重新连接
4. **聊天不显示**：检查网络连接状态

### 性能优化
- 建议使用Chrome或Firefox浏览器
- 确保网络连接稳定
- 关闭不必要的浏览器标签页

## 🎊 更新日志

### v1.0.0
- ✅ 基础多人游戏功能
- ✅ 玩家区域分配系统
- ✅ 实时聊天功能
- ✅ 房间管理系统
- ✅ 游戏状态同步

### 计划功能
- 🔄 观战模式
- 🔄 玩家排行榜
- 🔄 更多炮塔类型
- 🔄 特殊技能系统
- 🔄 回放功能

## 🤝 参与贡献

欢迎提交Issue和Pull Request来改进游戏！

## 📄 许可证

ISC License

---

**享受多人协作的塔防游戏体验！** 🎮✨ 