 # 播客应用开发提示词

## 项目概述
请开发一个类似小宇宙的现代化播客应用，提供完整的播客发现、收听、管理和社交功能。

## 核心功能需求

### 1. 播客内容管理
- **播客发现**: 实现智能推荐算法，根据用户偏好推荐播客
- **分类浏览**: 按主题、热度、最新等维度分类展示播客
- **搜索功能**: 支持播客名称、作者、标签的模糊搜索
- **订阅管理**: 用户可以订阅/取消订阅播客，管理订阅列表
- **收藏功能**: 收藏喜欢的播客单集，建立个人收藏夹

### 2. 音频播放功能
- **播放控制**: 播放、暂停、快进、快退、调节播放速度(0.5x-2.0x)
- **播放列表**: 支持创建播放列表，自动播放下一集
- **断点续播**: 记录播放进度，支持跨设备同步
- **离线下载**: 支持下载播客到本地，离线收听
- **睡眠定时**: 设置定时关闭功能
- **音质选择**: 提供不同音质选项

### 3. 用户系统
- **账户管理**: 用户注册、登录、个人资料管理
- **个人中心**: 显示收听历史、订阅列表、收藏夹
- **数据同步**: 跨设备同步用户数据
- **偏好设置**: 个性化推荐设置、播放偏好

### 4. 社交功能
- **评论系统**: 对播客单集进行评论和回复
- **点赞分享**: 对播客进行点赞，分享到社交平台
- **用户关注**: 关注其他用户，查看他们的收听动态
- **动态时间线**: 展示关注用户的播客动态

### 5. 内容创作功能
- **播客上传**: 支持用户上传自己的播客内容
- **内容管理**: 管理播客描述、标签、封面等信息
- **数据分析**: 提供播客播放量、用户反馈等统计数据

## 技术架构建议

### 前端技术栈
- **移动端**: React Native 或 Flutter（跨平台）
- **Web端**: React/Vue.js + TypeScript
- **状态管理**: Redux/MobX 或 Provider
- **音频处理**: react-native-sound 或 just_audio
- **UI组件**: 使用现代化的UI框架，如Ant Design Mobile

### 后端技术栈
- **服务器**: Node.js + Express 或 Python + Django/FastAPI
- **数据库**: PostgreSQL (主数据) + Redis (缓存)
- **文件存储**: AWS S3 或 阿里云OSS
- **推荐系统**: 基于协同过滤或内容过滤的推荐算法
- **搜索引擎**: Elasticsearch
- **消息队列**: Redis 或 RabbitMQ

### 基础设施
- **容器化**: Docker + Kubernetes
- **CI/CD**: GitHub Actions 或 Jenkins
- **监控**: Prometheus + Grafana
- **日志**: ELK Stack
- **CDN**: CloudFlare 或 AWS CloudFront

## UI/UX设计要求

### 1. 设计风格
- **现代简约**: 采用Material Design 3.0或iOS Design Guidelines
- **深色模式**: 支持深色/浅色主题切换
- **品牌色彩**: 选择温暖、专业的配色方案
- **字体**: 使用易读的字体，确保在不同设备上的一致性

### 2. 核心界面设计
- **首页**: 展示推荐播客、热门内容、订阅更新
- **播客详情页**: 播客介绍、单集列表、相关推荐
- **播放器**: 简洁的播放控制界面，支持全屏播放
- **个人中心**: 订阅、收藏、历史记录的清晰展示
- **搜索页**: 智能搜索建议、搜索历史

### 3. 交互体验
- **手势操作**: 支持滑动、长按等手势操作
- **加载状态**: 优雅的加载动画和骨架屏
- **错误处理**: 友好的错误提示和重试机制
- **无障碍**: 支持屏幕阅读器，确保可访问性

## 实现细节

### 1. 数据库设计
```sql
-- 用户表
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    avatar_url VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 播客表
CREATE TABLE podcasts (
    id SERIAL PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    description TEXT,
    cover_url VARCHAR(255),
    author VARCHAR(100),
    category VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 播客单集表
CREATE TABLE episodes (
    id SERIAL PRIMARY KEY,
    podcast_id INTEGER REFERENCES podcasts(id),
    title VARCHAR(200) NOT NULL,
    description TEXT,
    audio_url VARCHAR(255) NOT NULL,
    duration INTEGER,
    published_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 用户订阅表
CREATE TABLE subscriptions (
    user_id INTEGER REFERENCES users(id),
    podcast_id INTEGER REFERENCES podcasts(id),
    subscribed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (user_id, podcast_id)
);
```

### 2. API设计
```javascript
// 获取推荐播客
GET /api/podcasts/recommended?page=1&limit=20

// 搜索播客
GET /api/podcasts/search?q=关键词&page=1&limit=20

// 获取播客详情
GET /api/podcasts/:id

// 订阅播客
POST /api/subscriptions
{
  "podcast_id": 123
}

// 播放记录
POST /api/play-history
{
  "episode_id": 456,
  "position": 1200,
  "duration": 3600
}
```

### 3. 推荐算法实现
```python
# 基于协同过滤的推荐算法示例
def recommend_podcasts(user_id, limit=10):
    # 获取用户的收听历史
    user_history = get_user_listening_history(user_id)
    
    # 找到相似用户
    similar_users = find_similar_users(user_id, user_history)
    
    # 基于相似用户的偏好推荐
    recommendations = get_recommendations_from_similar_users(similar_users)
    
    return recommendations[:limit]
```

## 开发阶段规划

### 第一阶段：基础功能 (4-6周)
- 用户系统(注册、登录、个人资料)
- 播客浏览和搜索
- 基础播放功能
- 订阅管理

### 第二阶段：核心功能 (6-8周)
- 推荐算法实现
- 离线下载功能
- 播放历史和断点续播
- 评论系统

### 第三阶段：高级功能 (4-6周)
- 社交功能(关注、分享)
- 内容创作功能
- 数据分析和统计
- 性能优化

### 第四阶段：完善和发布 (2-4周)
- 测试和bug修复
- 应用商店上架
- 用户反馈收集
- 迭代优化

## 质量保证

### 1. 测试策略
- **单元测试**: 确保每个功能模块的正确性
- **集成测试**: 测试不同模块之间的交互
- **端到端测试**: 模拟真实用户使用场景
- **性能测试**: 确保应用在高并发下的稳定性

### 2. 性能优化
- **图片优化**: 使用WebP格式，实现懒加载
- **音频优化**: 使用自适应码率，减少流量消耗
- **缓存策略**: 合理使用缓存，提升响应速度
- **代码分割**: 按需加载，减少初始加载时间

### 3. 安全措施
- **数据加密**: 敏感数据传输加密
- **输入验证**: 防止SQL注入和XSS攻击
- **访问控制**: 实现细粒度的权限控制
- **隐私保护**: 遵守GDPR等隐私法规

## 部署和运维

### 1. 部署架构
- **微服务架构**: 按功能模块拆分服务
- **负载均衡**: 使用Nginx或AWS ELB
- **数据库集群**: 主从复制，读写分离
- **CDN加速**: 静态资源和音频文件加速

### 2. 监控和日志
- **应用监控**: 实时监控应用性能指标
- **错误追踪**: 使用Sentry等工具追踪错误
- **用户行为分析**: 收集用户使用数据
- **日志分析**: 分析日志发现问题和优化点

## 开发要求

1. **代码质量**: 遵循最佳实践，使用ESLint/Prettier等工具
2. **文档完整**: 提供详细的API文档和开发文档
3. **版本控制**: 使用Git进行版本管理，合理的分支策略
4. **持续集成**: 建立CI/CD流程，自动化测试和部署
5. **可扩展性**: 考虑未来功能扩展，设计灵活的架构

## 成功标准

- 用户体验流畅，无明显卡顿
- 音频播放稳定，支持多种格式
- 推荐算法准确，提升用户粘性
- 社交功能活跃，形成用户社区
- 应用性能优秀，支持大量并发用户

---

请根据以上需求开始开发，重点关注用户体验和产品质量。如有任何技术问题或需求调整，请随时讨论。 